<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CS405 Project 2 - NPR Shaders</title>
  <style>
    :root { color-scheme: light; }
    body { margin: 0; font-family: Arial, sans-serif; background: #f5f5f5; }
    header { padding: 12px 20px; background: #222; color: #fff; }
    main { display: grid; grid-template-columns: 320px 1fr; min-height: 100vh; }
    #sidebar { background: #ffffff; border-right: 1px solid #ddd; padding: 16px; box-sizing: border-box; overflow-y: auto; }
    #controls h2 { margin-top: 0; }
    #controls label { display: block; margin: 10px 0 4px; font-size: 14px; }
    #controls select, #controls input { width: 100%; box-sizing: border-box; padding: 6px; }
    #controls .row { display: flex; gap: 8px; }
    #controls .row > div { flex: 1; }
    #canvas-container { display: flex; align-items: center; justify-content: center; background: #111; position: relative; }
    canvas { width: 100%; height: 100%; max-height: 100vh; display: block; }
    .compare-divider { position: absolute; top: 0; bottom: 0; left: 50%; width: 3px; background: #fff; pointer-events: none; display: none; z-index: 10; }
    .compare-label { position: absolute; top: 10px; padding: 4px 12px; background: rgba(0,0,0,0.7); color: #fff; font-size: 14px; border-radius: 4px; pointer-events: none; display: none; z-index: 10; }
    .compare-label.left { left: 10px; }
    .compare-label.right { right: 10px; }
    .note { font-size: 12px; color: #555; margin-top: 8px; }
    button { padding: 8px 10px; margin-top: 8px; width: 100%; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/3.4.2/gl-matrix-min.js"></script>
</head>
<body>
  <header>
    <h1>Project 2: NPR Shaders (Toon / Edges / Hatching)</h1>
  </header>
  <main>
    <aside id="sidebar">
      <div id="controls">
        <h2>Controls</h2>
        <label for="mode">Left / Main Technique</label>
        <select id="mode">
          <option value="0" selected>Reference Phong</option>
          <option value="1">Toon</option>
          <option value="2">Edges</option>
          <option value="3">Hatching</option>
        </select>

        <label style="display: flex; align-items: center; gap: 8px; margin-top: 12px; background: #e8f4e8; padding: 8px; border-radius: 4px;">
          <input id="compareMode" type="checkbox" />
          <span style="font-weight: bold;">ðŸ”€ Compare Mode (Side-by-Side)</span>
        </label>

        <label for="mode2">Right Technique (Compare)</label>
        <select id="mode2" disabled>
          <option value="0">Reference Phong</option>
          <option value="1" selected>Toon</option>
          <option value="2">Edges</option>
          <option value="3">Hatching</option>
        </select>

        <div class="row">
          <div>
            <label for="bands">Toon Bands</label>
            <input id="bands" type="range" min="2" max="8" step="1" value="4" />
          </div>
          <div>
            <label for="rim">Edge/Rim Width</label>
            <input id="rim" type="range" min="0.05" max="1.0" step="0.05" value="0.4" />
          </div>
        </div>

        <label for="hatchScale">Hatch Scale</label>
        <input id="hatchScale" type="range" min="2" max="30" step="1" value="8" />

        <label for="lightAzimuth">Light Azimuth (yatay aÃ§Ä±)</label>
        <input id="lightAzimuth" type="range" min="0" max="360" step="5" value="135" />
        <label for="lightElevation">Light Elevation (dikey aÃ§Ä±)</label>
        <input id="lightElevation" type="range" min="-90" max="90" step="5" value="40" />

        <label style="display: flex; align-items: center; gap: 8px; margin-top: 12px;">
          <input id="showHelpers" type="checkbox" checked />
          <span>Show Grid & Light Source</span>
        </label>

        <label style="display: flex; align-items: center; gap: 8px; margin-top: 12px; background: #fff3e0; padding: 8px; border-radius: 4px;">
          <input id="useTexture" type="checkbox" checked />
          <span>Use Apple Texture</span>
        </label>
        <p class="note">ðŸ’¡ Uncheck to see NPR effects more clearly with solid color</p>

        <button id="resetCamera">Reset Camera</button>
        <p class="note">Drag to orbit. Scroll to zoom.</p>
      </div>
    </aside>
    <section id="canvas-container">
      <canvas id="glcanvas" width="1280" height="720"></canvas>
      <div class="compare-divider" id="compareDivider"></div>
      <div class="compare-label left" id="labelLeft">Phong</div>
      <div class="compare-label right" id="labelRight">Toon</div>
    </section>
  </main>

  <script src="math.js"></script>
  <script src="main.js"></script>
</body>
</html>

